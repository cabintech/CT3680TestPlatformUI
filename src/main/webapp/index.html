<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>CT3680 Test Platform</title>
	<link rel="stylesheet" type="text/css" href="css/jquery-ui.min.css" />
	<link rel="stylesheet" type="text/css" href="css/jquery-ui.theme.css" />
	<!-- link rel="stylesheet" type="text/css" href="css/cabintech.css" /-->
	<link rel="stylesheet" type="text/css" href="css/testPlatform.css"/>
</head>

<body>
	<main>
		<div id="autoTest" style="width:100%;">
			<table id="autoLayout" style="width:100%;height:100%">
				<colgroup>
					<col style="width: 40vw">
					<col style="width: 40vw">
				</colgroup>
				<thead>
					<tr><th>Test Setup</th><th>Test Results</th></tr>
				</thead>
				<tbody>
				<tr>
					<td style="text-align: center;">
						<div id="startPage">
							<h2>Insert module before starting test</h2><br>
							<div>
								<center><button id="btnStart">Start<br>Testing Procedure</button></center><br>
								<div id="cbList">
									<span class="checkSpan">
										<input type="checkbox" id="cbLoadFirmware" name="cbAddToStock" checked="checked" class="cb">
							        	<label for="cbLoadFirmware">Load module firmware before testing</label>
							        </span>
							        <fieldset style="border:2px solid black;margin-top:0.5em;display:inline-block;text-align: left;"><legend>If all tests pass</legend>
								        <span class="checkSpan">
											<input type="checkbox" id="cbInitNewMod" name="cbInitNewMod" class="cb">
								        	<label for="cbInitNewMod">Register new module</label>
								        </span><br>
										<span class="checkSpan">
											<input type="checkbox" id="cbAddToStock" name="cbAddToStock" class="cb">
								        	<label for="cbAddToStock">Add to stock management system</label>
								        </span>
							        </fieldset>
							        <!-- span class="checkSpan">
										<input type="checkbox" id="cbUpdateResults" name="cbUpdateResults" class="cb">
							        	<label for="cbUpdateResults">Update test results</label>
							        </span-->
								</div><br><br>
								<label id=btnManualTest><img src="images/link.png">&nbsp;Manual testing...</label><br>
								<button id="testDB">Test DB</button>
								<button id="testReg">Test Registration</button>
							</div>
						</div>
					</td>
					<td style="text-align: center; background-color: rgb(140,140,140);height:100%;">
						<div id="progressPage" class="hiddenTab" style="height:100%;width:100%;position:relative;">
							<div style="position:absolute;right:.2em;top:.1em;font-size:60%;">Serial Number: <span id="moduleSN">Unknown</span></div>
							<img id="progressIcon" src="images/progress-none.gif"><h2 id="progressTitle" style="display:inline-block;padding-top:1.2em;"></h2><br>
							<!-- Firmware update status -->
							<div style="text-align: center;">
								<span id="update-status"></span><br>
								<div id="update-progress">
									<div id="update-bar"></div>
								</div>
							</div>
							<!-- Testing status -->
							<canvas id="canvas"></canvas><br/>
							<div id="progress">0%</div>
							<div id="msg"></div>
							<button id="btnCancel">Cancel</button>
							<button id="btnConfirmRetest" style="display: none;">Retest this module</button>
						</div>
						<div id="waitForStart" style="font-style: italic;">
							<h3>Waiting to start...</h3>
						</div>
					</td>
				</tr>
				</tbody>
			</table>
			<div id="confirmRetestPage" class="hiddenTab">
				<h2>Module already exists in database.</h2><br>
				<span>
					<button id="proceedWithTesting">Proceed with<br>Testing</button>
				</span>
			</div>

		</div>
		<div id="manualTest" class="hiddenTab">
			<h2>Click on one of the buttons below to run the desired test:</h2><br>
			<h3 id="negTestIndicator">Negative Testing: Off</h3>
			<button id="btnPowerOn" class="manualTestBtn" style="margin-right: 20px; margin-left: 240px; color:black; background-color:green;">Power On</button>
			<button id="btnPowerOff" class="manualTestBtn" style="background-color: rgb(255,85,85); color:black;">Power Off</button><br><br>
			<button id="btnPowerOnFail" class="manualTestBtn" style="margin-left: 400px; display: none">Power On (Simulate Fail)</button><br>
			<button id="btnReadSN" class="manualTestBtn" style="margin-right: 100px;">Read Serial Number</button>
			<button id="btnVerifyDiagStream" class="manualTestBtn" style="margin-right: 100px;">Verify Diagnostic Stream</button>
			<button id="btnVerifyCVInputs" class="manualTestBtn">Verify CV Inputs</button><br>
			<button id="btnLoadFirmware" class="manualTestBtn" style="margin-right: 100px;">Load Firmware</button>
			<button id="btnVerifyOpt" class="manualTestBtn" style="margin-right: 100px;">Verify Option Switches</button>
			<button id="btnVerifyPGM" class="manualTestBtn">Verify Program Selection</button><br>
			<button id="btnUpdateResultsTbl" class="manualTestBtn" style="margin-right: 100px;">Update Results Table</button>
			<button id="btnVerifySamplingRates" class="manualTestBtn" style="margin-right: 100px;">Verify Sampling Rates</button>
			<button id="btnVerifyTapTempo" class="manualTestBtn">Verify Tap Tempo</button><br>
			<button id="btnUpdateStockCount" class="manualTestBtn" style="margin-right: 100px;">Update Stock Count</button>
			<button id="btnVerifyAudioPassthrough" class="manualTestBtn" style="margin-right: 100px;">Verify Audio Passthrough</button>
			<button id="btnVerifyDelayMemory" class="manualTestBtn">Verify Delay Line Memory</button><br><br>
			<label id="btnAutoTest">Return to Auto Testing</label><br>
			<label id="btnClearResults">Clear Results</label><br>
			<label id="negTest">Enable negative testing</label>
		</div>
	</main>
</body>
<script type="text/javascript" src="js/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="js/jquery-ui.min.js"></script>
<script type="text/javascript" src="js/ctg.js"></script>
<script type="module" src="js/testPlatform.js"></script>
</html>